<ion-content fullscreen="true" class="dashboard">

  <!-- Header -->
  <div class="header-section">
    <div class="header-top">
      <ion-icon name="arrow-back-outline"></ion-icon>
      <div class="header-actions">
        <ion-icon name="search-outline"></ion-icon>
        <ion-icon name="options-outline"></ion-icon>
      </div>
    </div>

    <div class="month-title">
      <h2>{{ currentDate | date: 'MMM, yyyy' }}</h2>
      <ion-button fill="solid" color="primary" (click)="goToCreateTask()">
  <ion-icon name="add-outline"></ion-icon>
  Add Task
</ion-button>
    </div>

    <!-- Calendar -->
    <div class="calendar-bar">
      <div
        class="calendar-day"
        *ngFor="let day of days"
        [class.active]="day.active"
        (click)="selectDay(day)"
      >
        <span class="day-number">{{ day.date }}</span>
        <span class="day-label">{{ day.label }}</span>
      </div>
    </div>
  </div>

  <!-- Task List -->
  <div class="task-section">
    <div class="task-header">
      <h3>Task</h3>
      <ion-icon name="ellipsis-vertical-outline"></ion-icon>
    </div>

    <div class="task-card" *ngFor="let task of tasks">
      <div class="task-icon">
        <ion-icon name="calendar-outline"></ion-icon>
      </div>
      <div class="task-details">
        <h4>{{ task.title }}</h4>
        <p>{{ task.createdAt?.toDate ? (task.createdAt.toDate() | date:'d MMM yyyy') : (task.createdAt | date:'d MMM yyyy') }}</p>
      </div>
      <ion-button fill="clear" color="dark" (click)="openTaskMenu(task)">
        <ion-icon name="ellipsis-vertical-outline"></ion-icon>
      </ion-button>
    </div>
  </div>

  <!-- Floating Bottom Nav -->
  <div class="bottom-nav">
    <ion-icon name="home-outline"></ion-icon>
    <ion-icon name="clipboard-outline"></ion-icon>
    <ion-icon name="person-outline"></ion-icon>
  </div>

</ion-content>
